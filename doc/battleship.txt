*battleship.txt*  Battleship Game for Vim9

================================================================================
CONTENTS                                                 *battleship-contents*

  1. Introduction .......................... |battleship-intro|
  2. Installation .......................... |battleship-install|
  3. Commands ............................. |battleship-commands|
  4. Getting Started ....................... |battleship-start|
  5. Game Phases ........................... |battleship-phases|
  6. Controls ............................. |battleship-controls|
  7. Player Levels ......................... |battleship-levels|
  8. Game Variants ......................... |battleship-variants|
  9. Game Rules ........................... |battleship-rules|
 10. Strategy Tips ......................... |battleship-strategy|
 11. Vim9 Script Features ................. |battleship-vim9|

================================================================================
INTRODUCTION                                            *battleship-intro*

Battleship is a classic naval combat game implemented in Vim9script. Challenge
the computer to a tactical battle, attempting to sink all of its ships before
it sinks all of yours. The game features multiple difficulty levels (Novice,
Expert) and game variants (One Shot, Hit Bonus, Ship Count) to keep gameplay
fresh and engaging.

The game runs in a centered popup window with two 10x10 boards: yours and your
opponent's. Win by sinking all enemy ships before losing all of yours.

================================================================================
INSTALLATION                                 	*battleship-install*

Requirements~

This plugin requires Vim 9.0 or later with Vim9 script support enabled.
It will not work with Neovim or older versions of Vim.

Installation~

Using Git~
If you have git installed, run the following command in your terminal:

    Unix/Linux/macOS: >
      git clone https://github.com/yegappan/battleship.git ~/.vim/pack/downloads/opt/battleship
<
    Windows (cmd.exe): >
      git clone https://github.com/yegappan/battleship.git %USERPROFILE%\vimfiles\pack\downloads\opt\battleship
<
Using a ZIP file~
If you prefer not to use Git:

    Unix/Linux/macOS:
    1. Create the destination directory: >

	 mkdir -p ~/.vim/pack/downloads/opt/
<
    2. Download the plugin ZIP file from GitHub and extract its contents into
       the directory created above.

       *Note:* GitHub usually names the extracted folder battleship-main.
       Rename it to battleship so the final path looks like this: >

	 ~/.vim/pack/downloads/opt/battleship/
	 ├── plugin/
	 ├── autoload/
	 └── doc/
<
    Windows (cmd.exe):
    1. Create the destination directory: >

	 if not exist "%USERPROFILE%\vimfiles\pack\downloads\opt" mkdir "%USERPROFILE%\vimfiles\pack\downloads\opt"
<
    2. Download the plugin ZIP file from GitHub and extract its contents into
       that directory.

       *Note:* Rename the extracted folder (usually battleship-main) to
       battleship so the path matches: >

	 %USERPROFILE%\vimfiles\pack\downloads\opt\battleship\
	 ├── plugin/
	 ├── autoload/
	 └── doc/

Finalizing Setup~
Since this plugin is installed in the opt (optional) directory, it will not
load automatically. Add the following line to your .vimrc (Unix) or _vimrc
(Windows): >

    packadd battleship
<
After adding the line, restart Vim and run the following command to enable the
help documentation: >

    :helptags ALL
<
Plugin Manager Installation~

If using a plugin manager like vim-plug, add to your .vimrc or init.vim:
>
    Plug 'path/to/battleship'
<
Then run `:PlugInstall` and `:helptags ALL`

For other plugin managers (Vundle, Pathogen, etc.), follow their standard
installation procedures for local plugins.

================================================================================
COMMANDS                                            *battleship-commands*

:Battleship
    Start a new Battleship game. You will be prompted to select difficulty
    level (Novice/Expert), game variant (One Shot/Hit Bonus/Ship Count),
    and place your ships on the board.

================================================================================
GETTING STARTED                                         *battleship-start*

To start the game, use the following command: >
    :Battleship
<
This command launches a new Battleship game in a new buffer.

When you first run the game, you'll be prompted to select:
  1. Your difficulty level (NOVICE or EXPERT)
  2. A game variant (ONE SHOT, HIT BONUS, or SHIP COUNT)
  3. Ship placement on your board
  4. Then battle against the computer

================================================================================
GAME PHASES                                             *battleship-phases*

The game progresses through several phases:

LEVEL SELECTION ~
In this phase, use arrow keys (↑/↓) or j/k to navigate between difficulty
levels, then press Enter or s to confirm your selection. See |battleship-levels| for
details on each level.

VARIANT SELECTION ~
Choose your preferred game variant using arrow keys (↑/↓) or j/k, then press Enter
or s to confirm. See |battleship-variants| for descriptions of each variant.

PLACEMENT PHASE ~
Place all five of your ships on the board before the battle begins. Use arrow
keys or hjkl to position each ship, use Home, End, PageUp, PageDown (or 0, $,
H, L) for quick navigation to board edges, r to rotate it between horizontal
and vertical orientations, then Enter or s to place it. You'll be prompted for each ship
in sequence.

BATTLE PHASE ~
Once all ships are placed, the tactical battle begins. Use arrow keys or hjkl
to aim your cursor at enemy positions on the board, use Home, End, PageUp,
PageDown (or 0, $, H, L) for quick navigation to board edges, Enter or s to fire, and
ESC to end your turn. The computer will then take its turn based on the
selected variant.

GAMEOVER PHASE ~
When all ships of one side are sunk, the game ends. Press n to start a new
game or q to quit.

================================================================================
CONTROLS                                             *battleship-controls*

Movement and Selection ~
  Arrow Keys            Move up/down/left/right / Select in menus
  k or Up               Move up / Select previous (in menus)
  j or Down             Move down / Select next (in menus)
  h or Left             Move left
  l or Right            Move right
  H                     Move to first row of current column
  L                     Move to last row of current column
  0 or Home             Move to first column of current row
  $ or End              Move to last column of current row
  PageUp                Move to first row of current column
  PageDown              Move to last row of current column

Actions ~
  Enter or s            Place ship (placement phase) or shoot target (battle)
  r                     Rotate ship between horizontal and vertical
  ESC                   End your turn during battle

Game Control ~
  n                     Start a new game
  q                     Quit game and close buffer

These key mappings are buffer-local and only active during a Battleship game.

================================================================================
PLAYER LEVELS                                           *battleship-levels*

The difficulty levels determine how the computer AI plays:

NOVICE                 *battleship-level-novice*
The computer opponent shoots randomly at your board with no strategic
analysis. Ideal for beginners or casual play.

EXPERT                 *battleship-level-expert*
The computer uses probability targeting based on previous shots and hits.
It attempts to locate and sink your ships strategically. Recommended for
experienced players seeking a challenge.

================================================================================
GAME VARIANTS                                           *battleship-variants*

The game supports three different rule variants:

ONE SHOT               *battleship-variant-oneshot*
You get exactly one shot per turn. The computer also gets one shot per turn
regardless of its previous result. This is the classic battleship variant.

HIT BONUS             *battleship-variant-hitbonus*
When you hit a target, you earn an additional bonus shot. Each hit grants
another bonus shot, allowing multiple consecutive shots as long as each is a
hit. On a miss, your turn ends. The computer follows the same rules.

SHIP COUNT            *battleship-variant-shipcount*
The number of shots you can take per turn equals the number of unsunk enemy
ships plus one. As you sink computer ships, you gain more shots per turn. This
creates accelerating gameplay as both sides progress through the battle.

================================================================================
GAME RULES                                              *battleship-rules*

BASICS ~
• The game is played on two 10x10 boards: yours and the computer's
• Victory means sinking all enemy ships before your ships are sunk
• Players alternate turns (player shoots, then computer shoots)
• When a ship receives damage equal to its size, it's sunk

SHIPS ~
Your fleet consists of five ships:

  Ship Type          Size (cells)
  ─────────────────────────────
  Carrier                    5
  Battleship                 4
  Cruiser                    3
  Submarine                  3
  Destroyer                  2

SHIP PLACEMENT ~
• Ships must be placed in a straight line (horizontal or vertical)
• Ships cannot overlap or extend past board edges
• All five ships must be placed before battle begins
• You choose whether each ship is horizontal or vertical using r

SHOOTING ~
• On your turn, use h, j, k, l to aim your cursor at a target square
• Use H, L, 0, $ for quick navigation to board edges
• Press Enter or s to fire at the selected position
• You can only shoot each position once
• Shooting results are communicated in the status message
• The number of shots per turn depends on the selected variant
• Press ESC to voluntarily end your turn

BATTLE RESOLUTION ~
• Hitting water (empty space) is a MISS
• Hitting a ship is a HIT
• When a ship takes damage equal to its size, it's SUNK
• Sinking enemy ships may grant bonus shots (depending on variant)
• Battle continues until one side has all ships sunk

BOARD SYMBOLS ~
  ≈        Water (unshot)
  ◦        Empty (previously shot, no hit)
  ✓        Hit (direct strike on a ship)
  ◇        Miss (shot but hit water)
  ★        Ship preview (placement phase)
  ◉        Cursor position
  C, B, R, S, D  Ship letters (Carrier, Battleship, Cruiser, Submarine, Destroyer)
  ✗        Sunk ship (confirmed sunk)

================================================================================
STRATEGY TIPS                                              *battleship-strategy*

Placement Strategy~
  • Never place ships too close together
  • Mix horizontal and vertical orientations randomly
  • Avoid patterns (experienced opponents learn them)
  • Place larger ships (Carrier, Battleship) away from edges
  • Keep at least one empty row/column gap between ships

Defensive Strategy~

Against Novice (Random AI):
  • Place ships anywhere - random shots won't find them efficiently
  • Focus on efficient searching of opponent board
  • Hunt down ships quickly for rapid wins

Against Expert (Probability-Based AI):
  • Opponent analyzes hit patterns to find your ships
  • Spread ships across the board to avoid clustering
  • Use asymmetric placement - breaks predictive patterns
  • Place ships on board diagonal to maximize separation
  • Avoid placing groups of ships in predictable zones

Offensive (Attacking) Techniques~

Initial Scanning Wave~
  • Start with diagonal pattern across entire board (0,0 → 10,10)
  • This efficiently covers maximum area with minimum shots
  • Diagonal spacing reveals likely ship positions

Once Hit:
  • Check all four orthogonal directions from hit
  • Narrow search methodically until ship is found
  • Once found, sink it completely before moving to next ship
  • Each sunk ship gives you one less opponent threat

Variant-Specific Tactics~

One Shot Variant:
  • Equal footing with computer - pure deduction wins
  • Efficient first-scan pattern is critical
  • Don't waste shots on re-checking same areas

Hit Bonus Variant:
  • Chain hits for bonus shots - game becomes attack-focused
  • Once you score a hit, capitalize immediately
  • Computer gains bonuses too - defend ships strategically

Ship Count Variant:
  • Early ship sinkings give you more shots per turn
  • Accelerates gameplay dramatically as battle progresses
  • Sacrificing defensive board placement for aggressive board position can win
  • Focus on sinking computer ships fast to gain advantage

Tracking and Memory~
  • Mark non-hits as ◦ to avoid re-checking
  • Remember hit patterns from previous shots
  • Anticipate ship orientation based on single hit
  • Keep mental/visual map of high-probability search zones

Common Mistakes to Avoid~
  • Don't cluster ships - makes sinking one lose multiple
  • Don't ignore non-hits - they define ship locations
  • Don't waste bonus shots on areas you haven't mapped
  • Don't place ships in corner/edge patterns (predictable)
  • Don't forget that ships can't overlap or extend past board

================================================================================
VIM9 SCRIPT FEATURES                                   *battleship-vim9*

This plugin demonstrates several modern Vim9script capabilities:

  • Classes for game state, board management, AI, and cursor handling
  • Interfaces for type-safe contracts (IRenderer, IComputerAI, IStatusRenderer)
  • Enums for type-safe game states, directions, and ship types
  • Strict type annotations throughout for type safety
  • Modular architecture with clear separation of concerns
  • Strategy pattern for different AI difficulty levels
  • State machine implementation for game phases

Complex game logic including:
  • Probability-based targeting algorithm for Expert AI
  • Ship placement validation and rotation mechanics
  • Game state management across multiple phases
  • Multi-dimensional board representation and traversal

================================================================================

vim:tw=78:ts=8:ft=help:norl:
